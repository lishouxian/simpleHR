<!DOCTYPE html>
<!-- saved from url=(0052)http://getbootstrap.com/docs/4.0/examples/dashboard/ -->
<html lang="en" xmlns:th="http://www.thymeleaf.org">

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta name="description" content="">
		<meta name="author" content="">

		<title>Dashboard Template for Bootstrap</title>
		<!-- Bootstrap core CSS -->
		<link href="/asserts/css/bootstrap.min.css" rel="stylesheet">

		<!-- Custom styles for this template -->
		<link href="/asserts/css/dashboard.css" rel="stylesheet">
		<style type="text/css">
			/* Chart.js */
			
			@-webkit-keyframes chartjs-render-animation {
				from {
					opacity: 0.99
				}
				to {
					opacity: 1
				}
			}
			
			@keyframes chartjs-render-animation {
				from {
					opacity: 0.99
				}
				to {
					opacity: 1
				}
			}
			
			.chartjs-render-monitor {
				-webkit-animation: chartjs-render-animation 0.001s;
				animation: chartjs-render-animation 0.001s;
			}
		</style>
	</head>

	<body>
		<div th:replace="commons/bars::topbar"></div>
		<div class="container-fluid">
			<div class="row">
				<div th:replace="commons/bars::#sidebar(activeUri='talk')" ></div>
				<main role="main" class="col-md-9 ml-sm-auto col-lg-10 pt-3 px-4">

					<html>
					<head>
						<meta charset="utf-8">
						<title>聊天室一对一聊天-jq22.com</title>
						<script src="https://libs.baidu.com/jquery/1.11.3/jquery.min.js"></script>
						<style>
							h5{
								margin: 0;
							}
							img{
								max-width: 100%;
								vertical-align: middle
							}
							input{
								outline: none;
							}
							.talkbody{
								max-width: 720px;
								height: complex;
								margin: 0 auto;
								background: #fff;
								color:#333;
								font-size: 0.26rem;
							}

							.message{
								background-color: #fff;
								padding: 1.2rem 0.3rem 1.8rem 0.3rem;
								min-height: 720px;
							}
							.time{
								font-size:0.24rem;
								color:#999;
								margin-bottom: 0.3rem;
								text-align: center;
							}

							.footer{
								position: fixed;
								bottom: 0;
								height:2.4rem;
								background-color:#fff;
								line-height:1rem;
								width: 100%;
								max-width: 720px;
							}

							.footer input{
								margin-left:0.4rem;
								width:39rem;
								height:1.8rem;
								float:left;
								margin-top:0.3rem;
								border-radius: 0.4rem;
								border:0.01rem solid #ddd;
								padding : 0 0.5rem;
							}
							.footer p{
								width:3.6rem;
								height:1.8rem;
								font-size:0.5rem;
								color:#fff;
								line-height:1.8rem;
								text-align:center;
								background-color:#ddd;
								border-radius: 0.4rem;
								float:right;
								margin-top:0.3rem;
								margin-right:0.3rem;
							}
							.send:after,.show:after,.msg:after{
								content: "";
								clear: both;
								display: table;
							}


							.msg>p{
								float: left;
								margin:0  0.4rem;
								padding: 0.25rem;
								background: #f1f1f1;
								font-size: 0.3rem;
								position: relative;
								border-radius: 0.2rem;
								max-width:10rem ;
								box-sizing: border-box;
							}

							.msg_person{
								width: auto;
								float: left;
								text-align:center;
								font-size: 0.3rem;
								padding: 0.25rem;

							}
							.msg_input{
								position: absolute;
								background-size: 0.31rem auto;
								width: 0.31rem;
								height: 0.51rem;
								left: -0.31rem;
								top: 0.25rem;
							}
							.show .msg img,.show .msg p,.show .msg .msg_person{
								float: right;
							}

							.show .msg_input{
								left: auto;
								right: -0.11rem;
								transform:rotate(180deg);
								-ms-transform:rotate(180deg); 	/* IE 9 */
								-moz-transform:rotate(180deg); 	/* Firefox */
								-webkit-transform:rotate(180deg); /* Safari 和 Chrome */
								-o-transform:rotate(180deg); 	/* Opera */
							}
							.send,.show{
								padding-bottom: 0.3rem;
							}

						</style>
					</head>

					<div class="talkbody">

						<div class="message">
							<div class="send">
								<div class="time">05/22 06:30</div>
								<div class="msg">
									<i class="msg_person">植树</i>
									<p><i class="msg_input"></i>你好在不在呀，亲！</p>
								</div>
							</div>
							<div class="show">
								<div class="time">05/22 06:30</div>
								<div class="msg">
									<i class="msg_person">植树</i>
									<p><i class="msg_input"></i>你好你好你好</p>
								</div>
							</div>
						</div>
						<div class="footer">
							<input type="text"/>
							<p>发送</p>
						</div>




					</div>

					</html>

				</main>
			</div>
		</div>

		<!-- Bootstrap core JavaScript
    ================================================== -->
		<!-- Placed at the end of the document so the pages load faster -->
		<script type="text/javascript" src="/asserts/js/jquery-3.2.1.slim.min.js"></script>
		<script type="text/javascript" src="/asserts/js/popper.min.js"></script>
		<script type="text/javascript" src="/asserts/js/bootstrap.min.js"></script>

		<!-- Icons -->
		<script type="text/javascript" src="/asserts/js/feather.min.js"></script>
		<script>
			feather.replace()
		</script>

		<script>
			$(".deleteBtn").click(function (){
				$("#deleteEmpForm").attr("action",$(this).attr("del_uri")).submit();
				alert("删除成功!")
				return false;
			})
		</script>

		<script>
			/*发送消息*/
			function send(person,str){
				var html="<div class='send'><div class='msg'><i class='msg_person'>"+person+"</i>"+
						"<p><i class='msg_input'></i>"+str+"</p></div></div>";
				upView(html);
			}
			/*接受消息*/
			function show(person,str){
				var html="<div class='show'><div class='msg'><i class='msg_person'>"+person+"</i>"+
						"<p><i class='msg_input'></i>"+str+"</p></div></div>";
				upView(html);
			}
			/*更新视图*/
			function upView(html){
				$('.message').append(html);
				// $('.talkbody').animate({scrollTop:$('.message').outerHeight()-window.innerHeight},200)
			}
			function sj(){
				return parseInt(Math.random()*10)
			}
			$(function(){
				$('.footer').on('keyup','input',function(){
					if($(this).val().length>0){
						$(this).next().css('background','#114F8E').prop('disabled',true);
					}else{
						$(this).next().css('background','#ddd').prop('disabled',false);
					}
				})
				$('.footer p').click(function(){
					show("植树",$(this).prev().val());
					test();
				})
			})

			/*测试数据*/
			var arr=['我是苍老师啊','好久没联系了！','你在想我么','怎么不和我说话','跟我聊会天吧','别不理我呀！'];
			var person=['小白','小嘻','小黑','嘻嘻','小白','小嘻'];
			test()
			function test(){
				$(arr).each(function(i){
					setTimeout(function(){
						send(person[i],arr[i])
					},sj()*500)
				})
			}


			(function (doc, win) {
				var docEl = doc.documentElement,
						resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',
						recalc = function () {
							var clientWidth = docEl.clientWidth;
							if (!clientWidth) return;
							if(clientWidth>=720){
								docEl.style.fontSize = '16px';
							}else{
								docEl.style.fontSize = 16 * (clientWidth / 720) + 'px';
							}
						};

				if (!doc.addEventListener) return;
				win.addEventListener(resizeEvt, recalc, false);
				doc.addEventListener('DOMContentLoaded', recalc, false);
			})(document, window);

		</script>

	</body>

</html>